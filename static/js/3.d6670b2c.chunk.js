(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{105:function(e,t,s){e.exports={profile:"Profile_profile__3XzaS"}},106:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1QekZ",file_upload:"ProfileInfo_file_upload__1bZX9",contact:"ProfileInfo_contact__3gbg_"}},107:function(e,t,s){e.exports={body:"ProfileDataForm_body__1RZMo"}},108:function(e,t,s){e.exports={postsBlocks:"MyPosts_postsBlocks__lFSDv",posts:"MyPosts_posts___tKaD"}},109:function(e,t,s){e.exports={content:"Post_content__3L5i6",item:"Post_item__3aA8I"}},110:function(e,t,s){e.exports={button:"AddPostForm_button__dhBV7"}},112:function(e,t,s){"use strict";s.r(t);var n=s(3),i=s(19),c=s(20),o=s(22),r=s(21),a=s(1),l=s(0),u=s.n(l),j=s(105),b=s.n(j),d=s(4),p=s.n(d),f=s(8),O=s(47),h=s(106),x=s.n(h),m=s(24),v=function(e){var t=Object(l.useState)(!1),s=Object(O.a)(t,2),n=s[0],i=s[1],c=Object(l.useState)(e.status),o=Object(O.a)(c,2),r=o[0],u=o[1];Object(l.useEffect)((function(){u(e.status)}),[e.status]);return Object(a.jsxs)("div",{children:[!n&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Status: "}),Object(a.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"------"})]}),n&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatus(r)},value:r})})]})},_=s(45),k=s(28),g=s(36),P=s(107),S=s.n(P),y=function(e){return Object(a.jsx)(k.b,{onSubmit:e.onSubmit,initialValues:e.initialValues,render:function(t){var s=t.handleSubmit;return Object(a.jsxs)("form",{onSubmit:s,children:[Object(a.jsxs)("div",{className:S.a.body,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Full name: "}),Object(a.jsx)(k.a,{name:"fullName",children:function(e){var t=e.input,s=e.meta;return Object(a.jsx)(g.a,{input:t,meta:s,type:"text"})}})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("label",{for:"checkid",children:["Looking for a job:",Object(a.jsx)(k.a,{name:"lookingForAJob",component:"input",type:"checkbox",id:"checkid"})]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"My professional skills: "}),Object(a.jsx)(k.a,{name:"lookingForAJobDescription",children:function(e){var t=e.input,s=e.meta;return Object(a.jsx)(g.b,{input:t,meta:s,type:"text"})}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"About me: "}),Object(a.jsx)(k.a,{name:"aboutMe",children:function(e){var t=e.input,s=e.meta;return Object(a.jsx)(g.b,{input:t,meta:s,type:"text"})}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Contacts: "})," ",Object.keys(e.profile.contacts).map((function(e){return Object(a.jsx)("div",{children:Object(a.jsxs)("label",{children:[e,": ",Object(a.jsx)(k.a,{name:"contacts."+e,children:function(e){var t=e.input,s=e.meta;return Object(a.jsx)(g.a,{input:t,meta:s,type:"text"})}})]})})}))]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){},children:"save"})})]})}})},w=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full name"}),": ",e.profile.fullName]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job"}),": ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"My professional skills"}),": ",e.profile.lookingForAJobDescription]}),Object(a.jsx)("div",{children:e.profile.aboutMe&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About me"}),": ",e.profile.aboutMe]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(t){return Object(a.jsx)(A,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]}),e.isOwner&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:e.goToEditMode,children:"edit"})})]})},A=function(e){var t=e.contactTitle,s=e.contactValue;return Object(a.jsxs)("div",{className:x.a.contact,children:[Object(a.jsx)("b",{children:t}),": ",s]})},M=function(e){var t=Object(l.useState)(!1),s=Object(O.a)(t,2),n=s[0],i=s[1],c=Object(l.useState)(e.status),o=Object(O.a)(c,2);o[0],o[1];if(!e.profile)return Object(a.jsx)(m.a,{});var r=function(){var t=Object(f.a)(p.a.mark((function t(s){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saveProfile(s),i(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:x.a.descriptionBlock,children:[Object(a.jsx)("img",{src:e.profile.photos.large||_.a}),e.isOwner&&Object(a.jsx)("div",{className:x.a.file_upload,children:Object(a.jsxs)("label",{for:"input__file",children:[Object(a.jsx)("input",{id:"input__file",type:"file",name:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"]})}),Object(a.jsx)("h3",{children:"ABOUT ME"}),Object(a.jsx)(v,{status:e.status,updateStatus:e.updateStatus}),n?Object(a.jsx)(y,{initialValues:e.profile,onSubmit:r,profile:e.profile}):Object(a.jsx)(w,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){i(!0)}})]})})},N=s(46),C=s(18),F=s(108),I=s.n(F),B=s(109),T=s.n(B),D=function(e){return Object(a.jsxs)("div",{className:T.a.item,children:[Object(a.jsx)("img",{src:_.a}),e.message,Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["likes ",e.likesCount]})})]})},J=s(39),U=s(110),V=s.n(U),z=function(e){return Object(a.jsx)(k.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit;e.form,e.submitting,e.pristine,e.values;return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsx)(k.a,{name:"newPostText",validate:Object(J.a)(J.c,Object(J.b)(10)),children:function(e){var t=e.input,s=e.meta;return Object(a.jsx)(g.b,{className:V.a.input,input:t,meta:s,placeholder:"Post message..."})}}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:V.a.button,children:"Add post"})})]})}})},E=u.a.memo((function(e){var t=Object(C.a)(e.posts).reverse().map((function(e){return Object(a.jsx)(D,{message:e.message,id:e.id,likesCount:e.likesCount})}));return Object(a.jsxs)("div",{className:I.a.postsBlocks,children:[Object(a.jsx)("h3",{children:"MY POSTS"}),Object(a.jsx)(z,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(a.jsx)("div",{className:I.a.posts,children:t})]})})),L=s(15),Z=Object(L.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(N.a)(t))}}}))(E),X=function(e){return Object(a.jsxs)("div",{className:b.a.profile,children:[Object(a.jsx)(M,{savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,saveProfile:e.saveProfile}),Object(a.jsx)(Z,{})]})},K=s(6),Q=s(16),R=function(e){Object(o.a)(s,e);var t=Object(r.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(a.jsx)(X,Object(n.a)(Object(n.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(u.a.Component);t.default=Object(Q.d)(Object(L.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:N.d,getStatus:N.c,updateStatus:N.g,savePhoto:N.e,saveProfile:N.f}),K.f)(R)}}]);
//# sourceMappingURL=3.d6670b2c.chunk.js.map